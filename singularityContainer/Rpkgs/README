Produce a local repository of all the R packages needed by gip.

1) access the current (03102020) singularity container, mounting a working folder:
   
  sudo singularity shell --writable --no-home -B ../inputData:/mnt gipContainerDev.simg/
  cd /mnt
  
2) call R, and use these commands:

  ip <- as.data.frame(installed.packages()[,c(1,3:4)])
  rownames(ip) <- NULL
  ip <- ip[is.na(ip$Priority),1:2,drop=FALSE]
  print(ip, row.names=FALSE)

This will print the list of all the installed packages, and their version.
Save this table to the file "Rpkgs.tsv"

3) Run the script "buildMiniCran.R" adjusting the settings:
  pth <- "/mnt/miniCRAN"
  allPkgs <- read.table("/mnt/Rpkgs.tsv",header=T)

This will download the source (.tar.gz files) of all package of all packages.
Packages bisoreg and XML are not available anymore in R 3.6.0 so you need to manually download the source code and add it to the miniCRAN folder (and update the repository index).
Please note that the current miniCRAN repository was downloaded in the Mac host machine, and just transfered to the Ubuntu VM (this is why you need to fix the pth and allPkgs values)

4) When you build the singularity container you need to: 
   (i) provide the miniCRAN folder (e.g. in the packages.tar.gz file)
   (ii) install first bisoreg anf XML (for some reasons, despite you updated the miniCRAN repository index, these packages are not correcly listed in the dependencies of the other packages and just ignored, so you need to install them first manually)
      R -e 'install.packages("bisoreg_1.5.tar.gz", repos = NULL, type="source")'
      R CMD INSTALL --build bisoreg_1.5.tar.gz  
      R -e 'install.packages("XML_3.99-0.3.tar.gz", repos = NULL, type="source")'
      R CMD INSTALL --build XML_3.99-0.3.tar.gz 
   (iii) install all the other packages with R install.packages() specifying the local source repository miniCRAN


